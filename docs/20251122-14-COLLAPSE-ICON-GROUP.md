# åœ–ç¤ºç¾¤çµ„è‡ªå‹•æ”¶åˆ

**æ—¥æœŸ**: 2025-11-22  
**é¡å‹**: UX æ”¹å–„

## æ¦‚è¿°

ç•¶åœ–ç¤ºè¢«åŠ å…¥åˆ° Figma ç•«å¸ƒå¾Œï¼Œè‡ªå‹•å°‡ç¾¤çµ„è¨­å®šç‚ºæ”¶åˆç‹€æ…‹ï¼ˆcollapsedï¼‰ï¼Œé¿å…åœ¨ Layers é¢æ¿ä¸­å±•ç¤ºç¾¤çµ„å…§éƒ¨çš„çµ„ä»¶ï¼Œä¿æŒé¢æ¿æ•´æ½”ã€‚

## å•é¡ŒèƒŒæ™¯

### åŸæœ‰è¡Œç‚º

åœ–ç¤ºæ’å…¥å¾Œå»ºç«‹çš„ç¾¤çµ„é è¨­ç‚ºå±•é–‹ç‹€æ…‹ï¼š

```
Layers Panel:
â””â”€ ğŸ”½ Azure VM Icon
   â””â”€ Vector
```

**å•é¡Œ**ï¼š
- æ¯å€‹åœ–ç¤ºç¾¤çµ„éƒ½æœƒå±•é–‹é¡¯ç¤ºå…§éƒ¨ Vector
- Layers é¢æ¿è®Šå¾—å†—é•·
- éœ€è¦æ‰‹å‹•æ”¶åˆæ¯å€‹ç¾¤çµ„
- å½±éŸ¿å·¥ä½œæ•ˆç‡

### æœŸæœ›è¡Œç‚º

åœ–ç¤ºæ’å…¥å¾Œè‡ªå‹•æ”¶åˆï¼š

```
Layers Panel:
â””â”€ ğŸ”¶ Azure VM Icon
```

**å„ªé»**ï¼š
- Layers é¢æ¿æ›´ç°¡æ½”
- å°ˆæ³¨æ–¼åœ–ç¤ºæœ¬èº«
- ç„¡éœ€æ‰‹å‹•æ“ä½œ
- æå‡ä½¿ç”¨é«”é©—

## è§£æ±ºæ–¹æ¡ˆ

### ç¨‹å¼ç¢¼ä¿®æ”¹

ä¿®æ”¹ `src/figma-cloudarchitect/code.ts`ï¼š

```typescript
// Create a group and name it
const group = figma.group([node], figma.currentPage);
group.name = name;

// Collapse the group in the layers panel
group.expanded = false;  // æ–°å¢æ­¤è¡Œ

// Center in viewport
figma.viewport.scrollAndZoomIntoView([group]);
```

### æŠ€è¡“ç´°ç¯€

#### Figma API

ä½¿ç”¨ `GroupNode.expanded` å±¬æ€§ï¼š

```typescript
interface GroupNode {
  expanded: boolean;  // true = å±•é–‹, false = æ”¶åˆ
}
```

**èªªæ˜**ï¼š
- `expanded = true`: åœ¨ Layers é¢æ¿ä¸­å±•é–‹ç¾¤çµ„ï¼Œé¡¯ç¤ºå­ç¯€é»
- `expanded = false`: æ”¶åˆç¾¤çµ„ï¼Œéš±è—å­ç¯€é»

#### æ’å…¥æµç¨‹

```
1. figma.createNodeFromSvg(svgData)
   â†“ å»ºç«‹ SVG ç¯€é»
2. node.resize(size, size)
   â†“ èª¿æ•´å¤§å°
3. figma.group([node], figma.currentPage)
   â†“ å»ºç«‹ç¾¤çµ„
4. group.name = name
   â†“ è¨­å®šåç¨±
5. group.expanded = false  â­ æ–°å¢
   â†“ æ”¶åˆç¾¤çµ„
6. figma.currentPage.selection = [group]
   â†“ é¸å–ç¾¤çµ„
```

### ç·¨è­¯è¨­å®šä¿®æ­£

åŒæ™‚ä¿®æ­£ `tsconfig.json` çš„ outDir è¨­å®šï¼š

**åŸæœ¬**ï¼š
```json
{
  "compilerOptions": {
    "outDir": "../../dist/"
  }
}
```

**ä¿®æ­£å¾Œ**ï¼š
```json
{
  "compilerOptions": {
    "outDir": "./"
  }
}
```

**åŸå› **ï¼š
- åŸè¨­å®šæœƒå°‡ code.js è¼¸å‡ºåˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„çš„ dist/
- æ‡‰è©²è¼¸å‡ºåˆ°ç•¶å‰ç›®éŒ„ï¼ˆsrc/figma-cloudarchitect/ï¼‰
- manifest.json åƒç…§çš„æ˜¯ src/figma-cloudarchitect/code.js

## ä½¿ç”¨è€…é«”é©—

### æ’å…¥å‰

```
Layers Panel: (ç©º)
```

### æ’å…¥å¾Œï¼ˆèˆŠç‰ˆï¼‰

```
Layers Panel:
â””â”€ ğŸ”½ Azure Virtual Machine
   â””â”€ Vector
â””â”€ ğŸ”½ Azure Storage Account
   â””â”€ Vector
â””â”€ ğŸ”½ Azure SQL Database
   â””â”€ Vector
```

**å•é¡Œ**ï¼šæ¯å€‹åœ–ç¤ºéƒ½å±•é–‹ï¼Œä½”ç”¨å¤§é‡ç©ºé–“

### æ’å…¥å¾Œï¼ˆæ–°ç‰ˆï¼‰

```
Layers Panel:
â””â”€ ğŸ”¶ Azure Virtual Machine
â””â”€ ğŸ”¶ Azure Storage Account
â””â”€ ğŸ”¶ Azure SQL Database
```

**æ”¹å–„**ï¼šæ‰€æœ‰åœ–ç¤ºè‡ªå‹•æ”¶åˆï¼Œé¢æ¿ç°¡æ½”

## åŠŸèƒ½é©—è­‰

### æ¸¬è©¦æ­¥é©Ÿ

1. é–‹å•Ÿ Figma Desktop App
2. åŸ·è¡Œ Cloud Architect Icons plugin
3. æœå°‹ä¸¦æ’å…¥ä»»ä¸€åœ–ç¤º
4. æª¢æŸ¥ Layers é¢æ¿

### é æœŸçµæœ

- âœ… åœ–ç¤ºæˆåŠŸæ’å…¥åˆ°ç•«å¸ƒ
- âœ… ç¾¤çµ„åç¨±æ­£ç¢ºé¡¯ç¤º
- âœ… **ç¾¤çµ„å‘ˆç¾æ”¶åˆç‹€æ…‹**ï¼ˆğŸ”¶ åœ–ç¤ºï¼‰
- âœ… ç¾¤çµ„è¢«é¸å–
- âœ… è¦–çª—è‡ªå‹•èšç„¦åˆ°åœ–ç¤º

### æ¸¬è©¦æ¡ˆä¾‹

#### æ¸¬è©¦ 1ï¼šå–®ä¸€åœ–ç¤ºæ’å…¥

**æ“ä½œ**ï¼šæ’å…¥ä¸€å€‹åœ–ç¤º

**é æœŸ**ï¼š
```
Layers:
â””â”€ ğŸ”¶ Azure VM (collapsed)
```

#### æ¸¬è©¦ 2ï¼šå¤šå€‹åœ–ç¤ºæ’å…¥

**æ“ä½œ**ï¼šé€£çºŒæ’å…¥ä¸‰å€‹åœ–ç¤º

**é æœŸ**ï¼š
```
Layers:
â”œâ”€ ğŸ”¶ Azure VM (collapsed)
â”œâ”€ ğŸ”¶ Azure Storage (collapsed)
â””â”€ ğŸ”¶ Azure SQL (collapsed)
```

#### æ¸¬è©¦ 3ï¼šæ‰‹å‹•å±•é–‹

**æ“ä½œ**ï¼š
1. æ’å…¥åœ–ç¤ºï¼ˆè‡ªå‹•æ”¶åˆï¼‰
2. æ‰‹å‹•é»æ“Šå±•é–‹

**é æœŸ**ï¼š
```
Before:
â””â”€ ğŸ”¶ Azure VM (collapsed)

After:
â””â”€ ğŸ”½ Azure VM (expanded)
   â””â”€ Vector
```

**ç¢ºèª**ï¼šæ‰‹å‹•å±•é–‹åŠŸèƒ½æ­£å¸¸

## èˆ‡å…¶ä»–åŠŸèƒ½çš„ç›¸å®¹æ€§

### ç¾¤çµ„é¸å–

```typescript
figma.currentPage.selection = [group];
```

**ç¢ºèª**ï¼šæ”¶åˆç‹€æ…‹ä¸å½±éŸ¿é¸å–åŠŸèƒ½

### è¦–çª—èšç„¦

```typescript
figma.viewport.scrollAndZoomIntoView([group]);
```

**ç¢ºèª**ï¼šæ”¶åˆç‹€æ…‹ä¸å½±éŸ¿èšç„¦åŠŸèƒ½

### ç¾¤çµ„ç·¨è¼¯

ä½¿ç”¨è€…ä»å¯ï¼š
- æ‰‹å‹•å±•é–‹ç¾¤çµ„æŸ¥çœ‹å…§å®¹
- é›™æ“Šé€²å…¥ç¾¤çµ„ç·¨è¼¯æ¨¡å¼
- æ‹–æ›³èª¿æ•´åœ–ç¤ºå¤§å°
- ä¿®æ”¹åœ–ç¤ºé¡è‰²èˆ‡æ¨£å¼

**ç¢ºèª**ï¼šæ”¶åˆåƒ…å½±éŸ¿é è¨­é¡¯ç¤ºç‹€æ…‹

## æ•ˆç›Š

### 1. è¦–è¦ºæ•´æ½”

- Layers é¢æ¿æ›´ç°¡æ½”
- æ¸›å°‘ä¸å¿…è¦çš„è¦–è¦ºé›œè¨Š
- æ˜“æ–¼ç€è¦½èˆ‡ç®¡ç†åœ–ç¤º

### 2. å·¥ä½œæ•ˆç‡

- ç„¡éœ€æ‰‹å‹•æ”¶åˆç¾¤çµ„
- å¿«é€Ÿå®šä½éœ€è¦çš„åœ–ç¤º
- æ¸›å°‘æ»¾å‹•æ“ä½œ

### 3. æœ€ä½³å¯¦è¸

- ç¬¦åˆ Figma ä½¿ç”¨ç¿’æ…£
- èˆ‡å…¶ä»– plugin è¡Œç‚ºä¸€è‡´
- æä¾›å°ˆæ¥­çš„ä½¿ç”¨é«”é©—

### 4. å½ˆæ€§

- ä½¿ç”¨è€…å¯éš¨æ™‚å±•é–‹æŸ¥çœ‹
- ä¸å½±éŸ¿ç·¨è¼¯åŠŸèƒ½
- ä¿ç•™å®Œæ•´çš„æ§åˆ¶æ¬Š

## ç›¸é—œæ–‡ä»¶

- [Figma Plugin API - GroupNode](https://www.figma.com/plugin-docs/api/GroupNode/)
- [code.ts](../../src/figma-cloudarchitect/code.ts) - Plugin ä¸»ç¨‹å¼

## å¾ŒçºŒå„ªåŒ–å»ºè­°

1. **ä½¿ç”¨è€…åå¥½è¨­å®š**
   - æä¾›é¸é …è®“ä½¿ç”¨è€…é¸æ“‡é è¨­å±•é–‹æˆ–æ”¶åˆ
   - å„²å­˜è¨­å®šæ–¼ plugin data

2. **æ‰¹æ¬¡æ“ä½œ**
   - æä¾›ã€Œæ”¶åˆæ‰€æœ‰åœ–ç¤ºç¾¤çµ„ã€åŠŸèƒ½
   - é©ç”¨æ–¼å¤§é‡åœ–ç¤ºçš„å°ˆæ¡ˆ

3. **æ™ºæ…§æ”¶åˆ**
   - è¤‡é›œåœ–ç¤ºï¼ˆå¤šå€‹ Vectorï¼‰ä¿æŒå±•é–‹
   - ç°¡å–®åœ–ç¤ºï¼ˆå–®ä¸€ Vectorï¼‰è‡ªå‹•æ”¶åˆ
   - æ ¹æ“šåœ–ç¤ºè¤‡é›œåº¦æ±ºå®š

4. **å¿«æ·éµ**
   - æ’å…¥åœ–ç¤ºæ™‚æŒ‰ä½ Shift ä¿æŒå±•é–‹
   - æä¾›æ›´å¤šæ§åˆ¶é¸é …
